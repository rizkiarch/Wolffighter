var $e=Object.defineProperty,Fe=Object.defineProperties;var Pe=Object.getOwnPropertyDescriptors;var ae=Object.getOwnPropertySymbols;var We=Object.prototype.hasOwnProperty,Be=Object.prototype.propertyIsEnumerable;var ne=(t,e,a)=>e in t?$e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[e]=a,k=(t,e)=>{for(var a in e||(e={}))We.call(e,a)&&ne(t,a,e[a]);if(ae)for(var a of ae(e))Be.call(e,a)&&ne(t,a,e[a]);return t},$=(t,e)=>Fe(t,Pe(e));import{bg as pe,bh as Ue,bi as A,b8 as we,bj as Ne,j as Ze,Y as Ve,aM as je,Z as qe,u as O,k as R,aB as ze,_ as Ke,aN as Ge,$ as Je,aO as Xe,v as ie,x as N,N as se,I as re,al as et,i as oe,a7 as tt,n as at,l as nt,O as it,e as st,w,o as rt,a as y,au as F,b3 as le,Q as P,aa as W,g as ce,V as ot,a_ as lt,b as q,d as ct,a1 as ut,h as dt}from"./main.2fcd03e8.js";import{Q as ht}from"./QTable.645c833d.js";import{Q as mt}from"./QSpace.6224fdf1.js";import{b as gt,v as ue,d as ft,e as At,f as vt,r as de,s as yt,p as he,g as pt}from"./QSelect.40e7703e.js";import{c as me,_ as wt}from"./default.da633e22.js";import{Q as Dt}from"./QPage.d8ddcd99.js";import{C as St}from"./ClosePopup.303998cd.js";import"./rtl.4b414a6d.js";import"./QLayout.a7112026.js";import"./plugin-vue_export-helper.21dcd24c.js";const x=[-61,9,38,199,426,686,756,818,1111,1181,1210,1635,2060,2097,2192,2262,2324,2394,2456,3178];function Mt(t){return Et(t)===0}function _t(t,e){return e<=6?31:e<=11||Mt(t)?30:29}function Et(t){const e=x.length;let a=x[0],n,i,s,l,r;if(t<a||t>=x[e-1])throw new Error("Invalid Jalaali year "+t);for(r=1;r<e&&(n=x[r],i=n-a,!(t<n));r+=1)a=n;return l=t-a,i-l<6&&(l=l-i+Ot(i+4,33)*33),s=ge(ge(l+1,33)-1,4),s===-1&&(s=4),s}function Ot(t,e){return~~(t/e)}function ge(t,e){return t-~~(t/e)*e}const De=864e5,Ct=36e5,Z=6e4,Se="YYYY-MM-DDTHH:mm:ss.SSSZ",It=/\[((?:[^\]\\]|\\]|\\)*)\]|d{1,4}|M{1,4}|m{1,2}|w{1,2}|Qo|Do|D{1,4}|YY(?:YY)?|H{1,2}|h{1,2}|s{1,2}|S{1,3}|Z{1,2}|a{1,2}|[AQExX]/g,Yt=/(\[[^\]]*\])|d{1,4}|M{1,4}|m{1,2}|w{1,2}|Qo|Do|D{1,4}|YY(?:YY)?|H{1,2}|h{1,2}|s{1,2}|S{1,3}|Z{1,2}|a{1,2}|[AQExX]|([.*+:?^,\s${}()|\\]+)/g,B={};function kt(t,e){const a="("+e.days.join("|")+")",n=t+a;if(B[n]!==void 0)return B[n];const i="("+e.daysShort.join("|")+")",s="("+e.months.join("|")+")",l="("+e.monthsShort.join("|")+")",r={};let c=0;const f=t.replace(Yt,d=>{switch(c++,d){case"YY":return r.YY=c,"(-?\\d{1,2})";case"YYYY":return r.YYYY=c,"(-?\\d{1,4})";case"M":return r.M=c,"(\\d{1,2})";case"MM":return r.M=c,"(\\d{2})";case"MMM":return r.MMM=c,l;case"MMMM":return r.MMMM=c,s;case"D":return r.D=c,"(\\d{1,2})";case"Do":return r.D=c++,"(\\d{1,2}(st|nd|rd|th))";case"DD":return r.D=c,"(\\d{2})";case"H":return r.H=c,"(\\d{1,2})";case"HH":return r.H=c,"(\\d{2})";case"h":return r.h=c,"(\\d{1,2})";case"hh":return r.h=c,"(\\d{2})";case"m":return r.m=c,"(\\d{1,2})";case"mm":return r.m=c,"(\\d{2})";case"s":return r.s=c,"(\\d{1,2})";case"ss":return r.s=c,"(\\d{2})";case"S":return r.S=c,"(\\d{1})";case"SS":return r.S=c,"(\\d{2})";case"SSS":return r.S=c,"(\\d{3})";case"A":return r.A=c,"(AM|PM)";case"a":return r.a=c,"(am|pm)";case"aa":return r.aa=c,"(a\\.m\\.|p\\.m\\.)";case"ddd":return i;case"dddd":return a;case"Q":case"d":case"E":return"(\\d{1})";case"Qo":return"(1st|2nd|3rd|4th)";case"DDD":case"DDDD":return"(\\d{1,3})";case"w":return"(\\d{1,2})";case"ww":return"(\\d{2})";case"Z":return r.Z=c,"(Z|[+-]\\d{2}:\\d{2})";case"ZZ":return r.ZZ=c,"(Z|[+-]\\d{2}\\d{2})";case"X":return r.X=c,"(-?\\d+)";case"x":return r.x=c,"(-?\\d{4,})";default:return c--,d[0]==="["&&(d=d.substring(1,d.length-1)),d.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}}),o={map:r,regex:new RegExp("^"+f)};return B[n]=o,o}function Me(t,e){return t!==void 0?t:e!==void 0?e.date:Ue.date}function fe(t,e=""){const a=t>0?"-":"+",n=Math.abs(t),i=Math.floor(n/60),s=n%60;return a+A(i)+e+A(s)}function Tt(t,e,a){let n=t.getFullYear(),i=t.getMonth();const s=t.getDate();return e.year!==void 0&&(n+=a*e.year,delete e.year),e.month!==void 0&&(i+=a*e.month,delete e.month),t.setDate(1),t.setMonth(2),t.setFullYear(n),t.setMonth(i),t.setDate(Math.min(s,K(t))),e.date!==void 0&&(t.setDate(t.getDate()+a*e.date),delete e.date),t}function Qt(t,e,a){const n=e.year!==void 0?e.year:t[`get${a}FullYear`](),i=e.month!==void 0?e.month-1:t[`get${a}Month`](),s=new Date(n,i+1,0).getDate(),l=Math.min(s,e.date!==void 0?e.date:t[`get${a}Date`]());return t[`set${a}Date`](1),t[`set${a}Month`](2),t[`set${a}FullYear`](n),t[`set${a}Month`](i),t[`set${a}Date`](l),delete e.year,delete e.month,delete e.date,t}function z(t,e,a){const n=_e(e),i=new Date(t),s=n.year!==void 0||n.month!==void 0||n.date!==void 0?Tt(i,n,a):i;for(const l in n){const r=Ne(l);s[`set${r}`](s[`get${r}`]()+a*n[l])}return s}function _e(t){const e=k({},t);return t.years!==void 0&&(e.year=t.years,delete e.years),t.months!==void 0&&(e.month=t.months,delete e.months),t.days!==void 0&&(e.date=t.days,delete e.days),t.day!==void 0&&(e.date=t.day,delete e.day),t.hour!==void 0&&(e.hours=t.hour,delete e.hour),t.minute!==void 0&&(e.minutes=t.minute,delete e.minute),t.second!==void 0&&(e.seconds=t.second,delete e.second),t.millisecond!==void 0&&(e.milliseconds=t.millisecond,delete e.millisecond),e}function Ee(t,e,a){const n=_e(e),i=a===!0?"UTC":"",s=new Date(t),l=n.year!==void 0||n.month!==void 0||n.date!==void 0?Qt(s,n,i):s;for(const r in n){const c=r.charAt(0).toUpperCase()+r.slice(1);l[`set${i}${c}`](n[r])}return l}function Rt(t,e,a){const n=xt(t,e,a),i=new Date(n.year,n.month===null?null:n.month-1,n.day,n.hour,n.minute,n.second,n.millisecond),s=i.getTimezoneOffset();return n.timezoneOffset===null||n.timezoneOffset===s?i:z(i,{minutes:n.timezoneOffset-s},1)}function xt(t,e,a,n,i){const s={year:null,month:null,day:null,hour:null,minute:null,second:null,millisecond:null,timezoneOffset:null,dateHash:null,timeHash:null};if(i!==void 0&&Object.assign(s,i),t==null||t===""||typeof t!="string")return s;e===void 0&&(e=Se);const l=Me(a,pe.props),r=l.months,c=l.monthsShort,{regex:f,map:o}=kt(e,l),d=t.match(f);if(d===null)return s;let m="";if(o.X!==void 0||o.x!==void 0){const u=parseInt(d[o.X!==void 0?o.X:o.x],10);if(isNaN(u)===!0||u<0)return s;const g=new Date(u*(o.X!==void 0?1e3:1));s.year=g.getFullYear(),s.month=g.getMonth()+1,s.day=g.getDate(),s.hour=g.getHours(),s.minute=g.getMinutes(),s.second=g.getSeconds(),s.millisecond=g.getMilliseconds()}else{if(o.YYYY!==void 0)s.year=parseInt(d[o.YYYY],10);else if(o.YY!==void 0){const u=parseInt(d[o.YY],10);s.year=u<0?u:2e3+u}if(o.M!==void 0){if(s.month=parseInt(d[o.M],10),s.month<1||s.month>12)return s}else o.MMM!==void 0?s.month=c.indexOf(d[o.MMM])+1:o.MMMM!==void 0&&(s.month=r.indexOf(d[o.MMMM])+1);if(o.D!==void 0){if(s.day=parseInt(d[o.D],10),s.year===null||s.month===null||s.day<1)return s;const u=n!=="persian"?new Date(s.year,s.month,0).getDate():_t(s.year,s.month);if(s.day>u)return s}o.H!==void 0?s.hour=parseInt(d[o.H],10)%24:o.h!==void 0&&(s.hour=parseInt(d[o.h],10)%12,(o.A&&d[o.A]==="PM"||o.a&&d[o.a]==="pm"||o.aa&&d[o.aa]==="p.m.")&&(s.hour+=12),s.hour=s.hour%24),o.m!==void 0&&(s.minute=parseInt(d[o.m],10)%60),o.s!==void 0&&(s.second=parseInt(d[o.s],10)%60),o.S!==void 0&&(s.millisecond=parseInt(d[o.S],10)*10**(3-d[o.S].length)),(o.Z!==void 0||o.ZZ!==void 0)&&(m=o.Z!==void 0?d[o.Z].replace(":",""):d[o.ZZ],s.timezoneOffset=(m[0]==="+"?-1:1)*(60*m.slice(1,3)+1*m.slice(3,5)))}return s.dateHash=A(s.year,6)+"/"+A(s.month)+"/"+A(s.day),s.timeHash=A(s.hour)+":"+A(s.minute)+":"+A(s.second)+m,s}function Ht(t){return typeof t=="number"?!0:isNaN(Date.parse(t))===!1}function bt(t,e){return Ee(new Date,t,e)}function Lt(t){const e=new Date(t).getDay();return e===0?7:e}function V(t){const e=new Date(t.getFullYear(),t.getMonth(),t.getDate());e.setDate(e.getDate()-(e.getDay()+6)%7+3);const a=new Date(e.getFullYear(),0,4);a.setDate(a.getDate()-(a.getDay()+6)%7+3);const n=e.getTimezoneOffset()-a.getTimezoneOffset();e.setHours(e.getHours()-n);const i=(e-a)/(De*7);return 1+Math.floor(i)}function $t(t){return t.getFullYear()*1e4+t.getMonth()*100+t.getDate()}function U(t,e){const a=new Date(t);return e===!0?$t(a):a.getTime()}function Ft(t,e,a,n={}){const i=U(e,n.onlyDate),s=U(a,n.onlyDate),l=U(t,n.onlyDate);return(l>i||n.inclusiveFrom===!0&&l===i)&&(l<s||n.inclusiveTo===!0&&l===s)}function Pt(t,e){return z(t,e,1)}function Wt(t,e){return z(t,e,-1)}function E(t,e,a){const n=new Date(t),i=`set${a===!0?"UTC":""}`;switch(e){case"year":case"years":n[`${i}Month`](0);case"month":case"months":n[`${i}Date`](1);case"day":case"days":case"date":n[`${i}Hours`](0);case"hour":case"hours":n[`${i}Minutes`](0);case"minute":case"minutes":n[`${i}Seconds`](0);case"second":case"seconds":n[`${i}Milliseconds`](0)}return n}function Bt(t,e,a){const n=new Date(t),i=`set${a===!0?"UTC":""}`;switch(e){case"year":case"years":n[`${i}Month`](11);case"month":case"months":n[`${i}Date`](K(n));case"day":case"days":case"date":n[`${i}Hours`](23);case"hour":case"hours":n[`${i}Minutes`](59);case"minute":case"minutes":n[`${i}Seconds`](59);case"second":case"seconds":n[`${i}Milliseconds`](999)}return n}function Ut(t){let e=new Date(t);return Array.prototype.slice.call(arguments,1).forEach(a=>{e=Math.max(e,new Date(a))}),e}function Nt(t){let e=new Date(t);return Array.prototype.slice.call(arguments,1).forEach(a=>{e=Math.min(e,new Date(a))}),e}function H(t,e,a){return(t.getTime()-t.getTimezoneOffset()*Z-(e.getTime()-e.getTimezoneOffset()*Z))/a}function Oe(t,e,a="days"){const n=new Date(t),i=new Date(e);switch(a){case"years":case"year":return n.getFullYear()-i.getFullYear();case"months":case"month":return(n.getFullYear()-i.getFullYear())*12+n.getMonth()-i.getMonth();case"days":case"day":case"date":return H(E(n,"day"),E(i,"day"),De);case"hours":case"hour":return H(E(n,"hour"),E(i,"hour"),Ct);case"minutes":case"minute":return H(E(n,"minute"),E(i,"minute"),Z);case"seconds":case"second":return H(E(n,"second"),E(i,"second"),1e3)}}function j(t){return Oe(t,E(t,"year"),"days")+1}function Zt(t){return we(t)===!0?"date":typeof t=="number"?"number":"string"}function Vt(t,e,a){const n=new Date(t);if(e){const i=new Date(e);if(n<i)return i}if(a){const i=new Date(a);if(n>i)return i}return n}function jt(t,e,a){const n=new Date(t),i=new Date(e);if(a===void 0)return n.getTime()===i.getTime();switch(a){case"second":case"seconds":if(n.getSeconds()!==i.getSeconds())return!1;case"minute":case"minutes":if(n.getMinutes()!==i.getMinutes())return!1;case"hour":case"hours":if(n.getHours()!==i.getHours())return!1;case"day":case"days":case"date":if(n.getDate()!==i.getDate())return!1;case"month":case"months":if(n.getMonth()!==i.getMonth())return!1;case"year":case"years":if(n.getFullYear()!==i.getFullYear())return!1;break;default:throw new Error(`date isSameDate unknown unit ${a}`)}return!0}function K(t){return new Date(t.getFullYear(),t.getMonth()+1,0).getDate()}function Ae(t){if(t>=11&&t<=13)return`${t}th`;switch(t%10){case 1:return`${t}st`;case 2:return`${t}nd`;case 3:return`${t}rd`}return`${t}th`}const ve={YY(t,e,a){const n=this.YYYY(t,e,a)%100;return n>0?A(n):"-"+A(Math.abs(n))},YYYY(t,e,a){return a!=null?a:t.getFullYear()},M(t){return t.getMonth()+1},MM(t){return A(t.getMonth()+1)},MMM(t,e){return e.monthsShort[t.getMonth()]},MMMM(t,e){return e.months[t.getMonth()]},Q(t){return Math.ceil((t.getMonth()+1)/3)},Qo(t){return Ae(this.Q(t))},D(t){return t.getDate()},Do(t){return Ae(t.getDate())},DD(t){return A(t.getDate())},DDD(t){return j(t)},DDDD(t){return A(j(t),3)},d(t){return t.getDay()},dd(t,e){return this.dddd(t,e).slice(0,2)},ddd(t,e){return e.daysShort[t.getDay()]},dddd(t,e){return e.days[t.getDay()]},E(t){return t.getDay()||7},w(t){return V(t)},ww(t){return A(V(t))},H(t){return t.getHours()},HH(t){return A(t.getHours())},h(t){const e=t.getHours();return e===0?12:e>12?e%12:e},hh(t){return A(this.h(t))},m(t){return t.getMinutes()},mm(t){return A(t.getMinutes())},s(t){return t.getSeconds()},ss(t){return A(t.getSeconds())},S(t){return Math.floor(t.getMilliseconds()/100)},SS(t){return A(Math.floor(t.getMilliseconds()/10))},SSS(t){return A(t.getMilliseconds(),3)},A(t){return this.H(t)<12?"AM":"PM"},a(t){return this.H(t)<12?"am":"pm"},aa(t){return this.H(t)<12?"a.m.":"p.m."},Z(t,e,a,n){const i=n==null?t.getTimezoneOffset():n;return fe(i,":")},ZZ(t,e,a,n){const i=n==null?t.getTimezoneOffset():n;return fe(i)},X(t){return Math.floor(t.getTime()/1e3)},x(t){return t.getTime()}};function qt(t,e,a,n,i){if(t!==0&&!t||t===1/0||t===-1/0)return;const s=new Date(t);if(isNaN(s))return;e===void 0&&(e=Se);const l=Me(a,pe.props);return e.replace(It,(r,c)=>r in ve?ve[r](s,l,n,i):c===void 0?r:c.split("\\]").join("]"))}function zt(t){return we(t)===!0?new Date(t.getTime()):t}var Kt={isValid:Ht,extractDate:Rt,buildDate:bt,getDayOfWeek:Lt,getWeekOfYear:V,isBetweenDates:Ft,addToDate:Pt,subtractFromDate:Wt,adjustDate:Ee,startOfDate:E,endOfDate:Bt,getMaxDate:Ut,getMinDate:Nt,getDateDiff:Oe,getDayOfYear:j,inferDateFormat:Zt,getDateBetween:Vt,isSameDate:jt,daysInMonth:K,formatDate:qt,clone:zt};const ye=(t=Date())=>new Date(t);function Gt(t=null,e="YYYY-MM-DD"){let a=ye();return t!==null&&(a=ye(t)),Kt.formatDate(a,e)}var Jt=Ze({name:"QTooltip",inheritAttrs:!1,props:$(k(k(k({},gt),Ve),je),{maxHeight:{type:String,default:null},maxWidth:{type:String,default:null},transitionShow:{default:"jump-down"},transitionHide:{default:"jump-up"},anchor:{type:String,default:"bottom middle",validator:ue},self:{type:String,default:"top middle",validator:ue},offset:{type:Array,default:()=>[14,14],validator:ft},scrollTarget:{default:void 0},delay:{type:Number,default:0},hideDelay:{type:Number,default:0}}),emits:[...qe],setup(t,{slots:e,emit:a,attrs:n}){let i,s;const l=at(),{proxy:{$q:r}}=l,c=O(null),f=O(!1),o=R(()=>he(t.anchor,r.lang.rtl)),d=R(()=>he(t.self,r.lang.rtl)),m=R(()=>t.persistent!==!0),{registerTick:u,removeTick:g}=ze(),{registerTimeout:p,removeTimeout:D}=Ke(),{transition:S,transitionStyle:Y}=Ge(t,f),{localScrollTarget:C,changeScrollEvent:M,unconfigureScrollTarget:Ce}=At(t,ee),{anchorEl:_,canShow:Ie,anchorEvents:T}=vt({showing:f,configureAnchorEl:He}),{show:Ye,hide:b}=Je({showing:f,canShow:Ie,handleShow:Te,handleHide:Qe,hideOnRouteChange:m,processOnMount:!0});Object.assign(T,{delayShow:Re,delayHide:xe});const{showPortal:G,hidePortal:J,renderPortal:ke}=Xe(l,c,Le);if(r.platform.is.mobile===!0){const v={anchorEl:_,innerRef:c,onClickOutside(I){return b(I),I.target.classList.contains("q-dialog__backdrop")&&it(I),!0}},L=R(()=>t.modelValue===null&&t.persistent!==!0&&f.value===!0);ie(L,I=>{(I===!0?pt:de)(v)}),N(()=>{de(v)})}function Te(v){g(),D(),G(),u(()=>{s=new MutationObserver(()=>Q()),s.observe(c.value,{attributes:!1,childList:!0,characterData:!0,subtree:!0}),Q(),ee()}),i===void 0&&(i=ie(()=>r.screen.width+"|"+r.screen.height+"|"+t.self+"|"+t.anchor+"|"+r.lang.rtl,Q)),p(()=>{G(!0),a("show",v)},t.transitionDuration)}function Qe(v){g(),D(),J(),X(),p(()=>{J(!0),a("hide",v)},t.transitionDuration)}function X(){s!==void 0&&(s.disconnect(),s=void 0),i!==void 0&&(i(),i=void 0),Ce(),se(T,"tooltipTemp")}function Q(){const v=c.value;_.value===null||!v||yt({el:v,offset:t.offset,anchorEl:_.value,anchorOrigin:o.value,selfOrigin:d.value,maxHeight:t.maxHeight,maxWidth:t.maxWidth})}function Re(v){if(r.platform.is.mobile===!0){me(),document.body.classList.add("non-selectable");const L=_.value,I=["touchmove","touchcancel","touchend","click"].map(te=>[L,te,"delayHide","passiveCapture"]);re(T,"tooltipTemp",I)}p(()=>{Ye(v)},t.delay)}function xe(v){D(),r.platform.is.mobile===!0&&(se(T,"tooltipTemp"),me(),setTimeout(()=>{document.body.classList.remove("non-selectable")},10)),p(()=>{b(v)},t.hideDelay)}function He(){if(t.noParentEvent===!0||_.value===null)return;const v=r.platform.is.mobile===!0?[[_.value,"touchstart","delayShow","passive"]]:[[_.value,"mouseenter","delayShow","passive"],[_.value,"mouseleave","delayHide","passive"]];re(T,"anchor",v)}function ee(){if(_.value!==null||t.scrollTarget!==void 0){C.value=et(_.value,t.scrollTarget);const v=t.noParentEvent===!0?Q:b;M(C.value,v)}}function be(){return f.value===!0?oe("div",$(k({},n),{ref:c,class:["q-tooltip q-tooltip--style q-position-engine no-pointer-events",n.class],style:[n.style,Y.value],role:"complementary"}),nt(e.default)):null}function Le(){return oe(tt,{name:S.value,appear:!0},be)}return N(X),Object.assign(l.proxy,{updatePosition:Q}),ke}});class h{constructor(e,a,n,i,s){this._legacyCanvasSize=h.DEFAULT_CANVAS_SIZE,this._preferredCamera="environment",this._maxScansPerSecond=25,this._lastScanTimestamp=-1,this._destroyed=this._flashOn=this._paused=this._active=!1,this.$video=e,this.$canvas=document.createElement("canvas"),n&&typeof n=="object"?this._onDecode=a:(console.warn(n||i||s?"You're using a deprecated version of the QrScanner constructor which will be removed in the future":"Note that the type of the scan result passed to onDecode will change in the future. To already switch to the new api today, you can pass returnDetailedScanResult: true."),this._legacyOnDecode=a),a=typeof n=="object"?n:{},this._onDecodeError=a.onDecodeError||(typeof n=="function"?n:this._onDecodeError),this._calculateScanRegion=a.calculateScanRegion||(typeof i=="function"?i:this._calculateScanRegion),this._preferredCamera=a.preferredCamera||s||this._preferredCamera,this._legacyCanvasSize=typeof n=="number"?n:typeof i=="number"?i:this._legacyCanvasSize,this._maxScansPerSecond=a.maxScansPerSecond||this._maxScansPerSecond,this._onPlay=this._onPlay.bind(this),this._onLoadedMetaData=this._onLoadedMetaData.bind(this),this._onVisibilityChange=this._onVisibilityChange.bind(this),this._updateOverlay=this._updateOverlay.bind(this),e.disablePictureInPicture=!0,e.playsInline=!0,e.muted=!0;let l=!1;if(e.hidden&&(e.hidden=!1,l=!0),document.body.contains(e)||(document.body.appendChild(e),l=!0),n=e.parentElement,a.highlightScanRegion||a.highlightCodeOutline){if(i=!!a.overlay,this.$overlay=a.overlay||document.createElement("div"),s=this.$overlay.style,s.position="absolute",s.display="none",s.pointerEvents="none",this.$overlay.classList.add("scan-region-highlight"),!i&&a.highlightScanRegion){this.$overlay.innerHTML='<svg class="scan-region-highlight-svg" viewBox="0 0 238 238" preserveAspectRatio="none" style="position:absolute;width:100%;height:100%;left:0;top:0;fill:none;stroke:#e9b213;stroke-width:4;stroke-linecap:round;stroke-linejoin:round"><path d="M31 2H10a8 8 0 0 0-8 8v21M207 2h21a8 8 0 0 1 8 8v21m0 176v21a8 8 0 0 1-8 8h-21m-176 0H10a8 8 0 0 1-8-8v-21"/></svg>';try{this.$overlay.firstElementChild.animate({transform:["scale(.98)","scale(1.01)"]},{duration:400,iterations:1/0,direction:"alternate",easing:"ease-in-out"})}catch{}n.insertBefore(this.$overlay,this.$video.nextSibling)}a.highlightCodeOutline&&(this.$overlay.insertAdjacentHTML("beforeend",'<svg class="code-outline-highlight" preserveAspectRatio="none" style="display:none;width:100%;height:100%;fill:none;stroke:#e9b213;stroke-width:5;stroke-dasharray:25;stroke-linecap:round;stroke-linejoin:round"><polygon/></svg>'),this.$codeOutlineHighlight=this.$overlay.lastElementChild)}this._scanRegion=this._calculateScanRegion(e),requestAnimationFrame(()=>{let r=window.getComputedStyle(e);r.display==="none"&&(e.style.setProperty("display","block","important"),l=!0),r.visibility!=="visible"&&(e.style.setProperty("visibility","visible","important"),l=!0),l&&(console.warn("QrScanner has overwritten the video hiding style to avoid Safari stopping the playback."),e.style.opacity="0",e.style.width="0",e.style.height="0",this.$overlay&&this.$overlay.parentElement&&this.$overlay.parentElement.removeChild(this.$overlay),delete this.$overlay,delete this.$codeOutlineHighlight),this.$overlay&&this._updateOverlay()}),e.addEventListener("play",this._onPlay),e.addEventListener("loadedmetadata",this._onLoadedMetaData),document.addEventListener("visibilitychange",this._onVisibilityChange),window.addEventListener("resize",this._updateOverlay),this._qrEnginePromise=h.createQrEngine()}static set WORKER_PATH(e){console.warn("Setting QrScanner.WORKER_PATH is not required and not supported anymore. Have a look at the README for new setup instructions.")}static async hasCamera(){try{return!!(await h.listCameras(!1)).length}catch{return!1}}static async listCameras(e=!1){if(!navigator.mediaDevices)return[];let a=async()=>(await navigator.mediaDevices.enumerateDevices()).filter(i=>i.kind==="videoinput"),n;try{e&&(await a()).every(i=>!i.label)&&(n=await navigator.mediaDevices.getUserMedia({audio:!1,video:!0}))}catch{}try{return(await a()).map((i,s)=>({id:i.deviceId,label:i.label||(s===0?"Default Camera":`Camera ${s+1}`)}))}finally{n&&(console.warn("Call listCameras after successfully starting a QR scanner to avoid creating a temporary video stream"),h._stopVideoStream(n))}}async hasFlash(){let e;try{if(this.$video.srcObject){if(!(this.$video.srcObject instanceof MediaStream))return!1;e=this.$video.srcObject}else e=(await this._getCameraStream()).stream;return"torch"in e.getVideoTracks()[0].getSettings()}catch{return!1}finally{e&&e!==this.$video.srcObject&&(console.warn("Call hasFlash after successfully starting the scanner to avoid creating a temporary video stream"),h._stopVideoStream(e))}}isFlashOn(){return this._flashOn}async toggleFlash(){this._flashOn?await this.turnFlashOff():await this.turnFlashOn()}async turnFlashOn(){if(!this._flashOn&&!this._destroyed&&(this._flashOn=!0,this._active&&!this._paused))try{if(!await this.hasFlash())throw"No flash available";await this.$video.srcObject.getVideoTracks()[0].applyConstraints({advanced:[{torch:!0}]})}catch(e){throw this._flashOn=!1,e}}async turnFlashOff(){this._flashOn&&(this._flashOn=!1,await this._restartVideoStream())}destroy(){this.$video.removeEventListener("loadedmetadata",this._onLoadedMetaData),this.$video.removeEventListener("play",this._onPlay),document.removeEventListener("visibilitychange",this._onVisibilityChange),window.removeEventListener("resize",this._updateOverlay),this._destroyed=!0,this._flashOn=!1,this.stop(),h._postWorkerMessage(this._qrEnginePromise,"close")}async start(){if(this._destroyed)throw Error("The QR scanner can not be started as it had been destroyed.");if((!this._active||this._paused)&&(window.location.protocol!=="https:"&&console.warn("The camera stream is only accessible if the page is transferred via https."),this._active=!0,!document.hidden))if(this._paused=!1,this.$video.srcObject)await this.$video.play();else try{let{stream:e,facingMode:a}=await this._getCameraStream();!this._active||this._paused?h._stopVideoStream(e):(this._setVideoMirror(a),this.$video.srcObject=e,await this.$video.play(),this._flashOn&&(this._flashOn=!1,this.turnFlashOn().catch(()=>{})))}catch(e){if(!this._paused)throw this._active=!1,e}}stop(){this.pause(),this._active=!1}async pause(e=!1){if(this._paused=!0,!this._active)return!0;this.$video.pause(),this.$overlay&&(this.$overlay.style.display="none");let a=()=>{this.$video.srcObject instanceof MediaStream&&(h._stopVideoStream(this.$video.srcObject),this.$video.srcObject=null)};return e?(a(),!0):(await new Promise(n=>setTimeout(n,300)),this._paused?(a(),!0):!1)}async setCamera(e){e!==this._preferredCamera&&(this._preferredCamera=e,await this._restartVideoStream())}static async scanImage(e,a,n,i,s=!1,l=!1){let r,c=!1;a&&("scanRegion"in a||"qrEngine"in a||"canvas"in a||"disallowCanvasResizing"in a||"alsoTryWithoutScanRegion"in a||"returnDetailedScanResult"in a)?(r=a.scanRegion,n=a.qrEngine,i=a.canvas,s=a.disallowCanvasResizing||!1,l=a.alsoTryWithoutScanRegion||!1,c=!0):console.warn(a||n||i||s||l?"You're using a deprecated api for scanImage which will be removed in the future.":"Note that the return type of scanImage will change in the future. To already switch to the new api today, you can pass returnDetailedScanResult: true."),a=!!n;try{let f,o;[n,f]=await Promise.all([n||h.createQrEngine(),h._loadImage(e)]),[i,o]=h._drawToCanvas(f,r,i,s);let d;if(n instanceof Worker){let m=n;a||h._postWorkerMessageSync(m,"inversionMode","both"),d=await new Promise((u,g)=>{let p,D,S,Y=-1;D=M=>{M.data.id===Y&&(m.removeEventListener("message",D),m.removeEventListener("error",S),clearTimeout(p),M.data.data!==null?u({data:M.data.data,cornerPoints:h._convertPoints(M.data.cornerPoints,r)}):g(h.NO_QR_CODE_FOUND))},S=M=>{m.removeEventListener("message",D),m.removeEventListener("error",S),clearTimeout(p),g("Scanner error: "+(M?M.message||M:"Unknown Error"))},m.addEventListener("message",D),m.addEventListener("error",S),p=setTimeout(()=>S("timeout"),1e4);let C=o.getImageData(0,0,i.width,i.height);Y=h._postWorkerMessageSync(m,"decode",C,[C.data.buffer])})}else d=await Promise.race([new Promise((m,u)=>window.setTimeout(()=>u("Scanner error: timeout"),1e4)),(async()=>{try{var[m]=await n.detect(i);if(!m)throw h.NO_QR_CODE_FOUND;return{data:m.rawValue,cornerPoints:h._convertPoints(m.cornerPoints,r)}}catch(u){if(m=u.message||u,/not implemented|service unavailable/.test(m))return h._disableBarcodeDetector=!0,h.scanImage(e,{scanRegion:r,canvas:i,disallowCanvasResizing:s,alsoTryWithoutScanRegion:l});throw`Scanner error: ${m}`}})()]);return c?d:d.data}catch(f){if(!r||!l)throw f;let o=await h.scanImage(e,{qrEngine:n,canvas:i,disallowCanvasResizing:s});return c?o:o.data}finally{a||h._postWorkerMessage(n,"close")}}setGrayscaleWeights(e,a,n,i=!0){h._postWorkerMessage(this._qrEnginePromise,"grayscaleWeights",{red:e,green:a,blue:n,useIntegerApproximation:i})}setInversionMode(e){h._postWorkerMessage(this._qrEnginePromise,"inversionMode",e)}static async createQrEngine(e){return e&&console.warn("Specifying a worker path is not required and not supported anymore."),!h._disableBarcodeDetector&&"BarcodeDetector"in window&&BarcodeDetector.getSupportedFormats&&(await BarcodeDetector.getSupportedFormats()).includes("qr_code")?new BarcodeDetector({formats:["qr_code"]}):import("./qr-scanner-worker.min.56d417f3.js").then(a=>a.createWorker())}_onPlay(){this._scanRegion=this._calculateScanRegion(this.$video),this._updateOverlay(),this.$overlay&&(this.$overlay.style.display=""),this._scanFrame()}_onLoadedMetaData(){this._scanRegion=this._calculateScanRegion(this.$video),this._updateOverlay()}_onVisibilityChange(){document.hidden?this.pause():this._active&&this.start()}_calculateScanRegion(e){let a=Math.round(.6666666666666666*Math.min(e.videoWidth,e.videoHeight));return{x:Math.round((e.videoWidth-a)/2),y:Math.round((e.videoHeight-a)/2),width:a,height:a,downScaledWidth:this._legacyCanvasSize,downScaledHeight:this._legacyCanvasSize}}_updateOverlay(){requestAnimationFrame(()=>{if(this.$overlay){var e=this.$video,a=e.videoWidth,n=e.videoHeight,i=e.offsetWidth,s=e.offsetHeight,l=e.offsetLeft,r=e.offsetTop,c=window.getComputedStyle(e),f=c.objectFit,o=a/n,d=i/s;switch(f){case"none":var m=a,u=n;break;case"fill":m=i,u=s;break;default:(f==="cover"?o>d:o<d)?(u=s,m=u*o):(m=i,u=m/o),f==="scale-down"&&(m=Math.min(m,a),u=Math.min(u,n))}var[g,p]=c.objectPosition.split(" ").map((S,Y)=>{const C=parseFloat(S);return S.endsWith("%")?(Y?s-u:i-m)*C/100:C});c=this._scanRegion.width||a,d=this._scanRegion.height||n,f=this._scanRegion.x||0;var D=this._scanRegion.y||0;o=this.$overlay.style,o.width=`${c/a*m}px`,o.height=`${d/n*u}px`,o.top=`${r+p+D/n*u}px`,n=/scaleX\(-1\)/.test(e.style.transform),o.left=`${l+(n?i-g-m:g)+(n?a-f-c:f)/a*m}px`,o.transform=e.style.transform}})}static _convertPoints(e,a){if(!a)return e;let n=a.x||0,i=a.y||0,s=a.width&&a.downScaledWidth?a.width/a.downScaledWidth:1;a=a.height&&a.downScaledHeight?a.height/a.downScaledHeight:1;for(let l of e)l.x=l.x*s+n,l.y=l.y*a+i;return e}_scanFrame(){!this._active||this.$video.paused||this.$video.ended||("requestVideoFrameCallback"in this.$video?this.$video.requestVideoFrameCallback.bind(this.$video):requestAnimationFrame)(async()=>{if(!(1>=this.$video.readyState)){var e=Date.now()-this._lastScanTimestamp,a=1e3/this._maxScansPerSecond;e<a&&await new Promise(i=>setTimeout(i,a-e)),this._lastScanTimestamp=Date.now();try{var n=await h.scanImage(this.$video,{scanRegion:this._scanRegion,qrEngine:this._qrEnginePromise,canvas:this.$canvas})}catch(i){if(!this._active)return;this._onDecodeError(i)}!h._disableBarcodeDetector||await this._qrEnginePromise instanceof Worker||(this._qrEnginePromise=h.createQrEngine()),n?(this._onDecode?this._onDecode(n):this._legacyOnDecode&&this._legacyOnDecode(n.data),this.$codeOutlineHighlight&&(clearTimeout(this._codeOutlineHighlightRemovalTimeout),this._codeOutlineHighlightRemovalTimeout=void 0,this.$codeOutlineHighlight.setAttribute("viewBox",`${this._scanRegion.x||0} ${this._scanRegion.y||0} ${this._scanRegion.width||this.$video.videoWidth} ${this._scanRegion.height||this.$video.videoHeight}`),this.$codeOutlineHighlight.firstElementChild.setAttribute("points",n.cornerPoints.map(({x:i,y:s})=>`${i},${s}`).join(" ")),this.$codeOutlineHighlight.style.display="")):this.$codeOutlineHighlight&&!this._codeOutlineHighlightRemovalTimeout&&(this._codeOutlineHighlightRemovalTimeout=setTimeout(()=>this.$codeOutlineHighlight.style.display="none",100))}this._scanFrame()})}_onDecodeError(e){e!==h.NO_QR_CODE_FOUND&&console.log(e)}async _getCameraStream(){if(!navigator.mediaDevices)throw"Camera not found.";let e=/^(environment|user)$/.test(this._preferredCamera)?"facingMode":"deviceId",a=[{width:{min:1024}},{width:{min:768}},{}],n=a.map(i=>Object.assign({},i,{[e]:{exact:this._preferredCamera}}));for(let i of[...n,...a])try{let s=await navigator.mediaDevices.getUserMedia({video:i,audio:!1}),l=this._getFacingMode(s)||(i.facingMode?this._preferredCamera:this._preferredCamera==="environment"?"user":"environment");return{stream:s,facingMode:l}}catch{}throw"Camera not found."}async _restartVideoStream(){let e=this._paused;await this.pause(!0)&&!e&&this._active&&await this.start()}static _stopVideoStream(e){for(let a of e.getTracks())a.stop(),e.removeTrack(a)}_setVideoMirror(e){this.$video.style.transform="scaleX("+(e==="user"?-1:1)+")"}_getFacingMode(e){return(e=e.getVideoTracks()[0])?/rear|back|environment/i.test(e.label)?"environment":/front|user|face/i.test(e.label)?"user":null:null}static _drawToCanvas(e,a,n,i=!1){n=n||document.createElement("canvas");let s=a&&a.x?a.x:0,l=a&&a.y?a.y:0,r=a&&a.width?a.width:e.videoWidth||e.width,c=a&&a.height?a.height:e.videoHeight||e.height;return i||(i=a&&a.downScaledWidth?a.downScaledWidth:r,a=a&&a.downScaledHeight?a.downScaledHeight:c,n.width!==i&&(n.width=i),n.height!==a&&(n.height=a)),a=n.getContext("2d",{alpha:!1}),a.imageSmoothingEnabled=!1,a.drawImage(e,s,l,r,c,0,0,n.width,n.height),[n,a]}static async _loadImage(e){if(e instanceof Image)return await h._awaitImageLoad(e),e;if(e instanceof HTMLVideoElement||e instanceof HTMLCanvasElement||e instanceof SVGImageElement||"OffscreenCanvas"in window&&e instanceof OffscreenCanvas||"ImageBitmap"in window&&e instanceof ImageBitmap)return e;if(e instanceof File||e instanceof Blob||e instanceof URL||typeof e=="string"){let a=new Image;a.src=e instanceof File||e instanceof Blob?URL.createObjectURL(e):e.toString();try{return await h._awaitImageLoad(a),a}finally{(e instanceof File||e instanceof Blob)&&URL.revokeObjectURL(a.src)}}else throw"Unsupported image type."}static async _awaitImageLoad(e){e.complete&&e.naturalWidth!==0||await new Promise((a,n)=>{let i=s=>{e.removeEventListener("load",i),e.removeEventListener("error",i),s instanceof ErrorEvent?n("Image load error"):a()};e.addEventListener("load",i),e.addEventListener("error",i)})}static async _postWorkerMessage(e,a,n,i){return h._postWorkerMessageSync(await e,a,n,i)}static _postWorkerMessageSync(e,a,n,i){if(!(e instanceof Worker))return-1;let s=h._workerMessageId++;return e.postMessage({id:s,type:a,data:n},i),s}}h.DEFAULT_CANVAS_SIZE=400;h.NO_QR_CODE_FOUND="No QR code found";h._disableBarcodeDetector=!1;h._workerMessageId=0;function Xt(){const t=new Audio("data:audio/wav;base64,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qJrx4KOQjahZxWbcZgztj2c49nKmkId44S71j0c8eV9yDK6uPRzx5X18eDvjvQ6yKo9ZSS6l//8elePK/Lf//IInrOF/FvDoADYAGBMGb7FtErm5MXMlmPAJQVgWta7Zx2go+8xJ0UiCb8LHHdftWyLJE0QIAIsI+UbXu67dZMjmgDGCGl1H+vpF4NSDckSIkk7Vd+sxEhBQMRU8j/12UIRhzSaUdQ+rQU5kGeFxm+hb1oh6pWWmv3uvmReDl0UnvtapVaIzo1jZbf/pD6ElLqSX+rUmOQNpJFa/r+sa4e/pBlAABoAAAAA3CUgShLdGIxsY7AUABPRrgCABdDuQ5GC7DqPQCgbbJUAoRSUj+NIEig0YfyWUho1VBBBA//uQZB4ABZx5zfMakeAAAAmwAAAAF5F3P0w9GtAAACfAAAAAwLhMDmAYWMgVEG1U0FIGCBgXBXAtfMH10000EEEEEECUBYln03TTTdNBDZopopYvrTTdNa325mImNg3TTPV9q3pmY0xoO6bv3r00y+IDGid/9aaaZTGMuj9mpu9Mpio1dXrr5HERTZSmqU36A3CumzN/9Robv/Xx4v9ijkSRSNLQhAWumap82WRSBUqXStV/YcS+XVLnSS+WLDroqArFkMEsAS+eWmrUzrO0oEmE40RlMZ5+ODIkAyKAGUwZ3mVKmcamcJnMW26MRPgUw6j+LkhyHGVGYjSUUKNpuJUQoOIAyDvEyG8S5yfK6dhZc0Tx1KI/gviKL6qvvFs1+bWtaz58uUNnryq6kt5RzOCkPWlVqVX2a/EEBUdU1KrXLf40GoiiFXK///qpoiDXrOgqDR38JB0bw7SoL+ZB9o1RCkQjQ2CBYZKd/+VJxZRRZlqSkKiws0WFxUyCwsKiMy7hUVFhIaCrNQsKkTIsLivwKKigsj8XYlwt/WKi2N4d//uQRCSAAjURNIHpMZBGYiaQPSYyAAABLAAAAAAAACWAAAAApUF/Mg+0aohSIRobBAsMlO//Kk4soosy1JSFRYWaLC4qZBYWFRGZdwqKiwkNBVmoWFSJkWFxX4FFRQWR+LsS4W/rFRb/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////VEFHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAU291bmRib3kuZGUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMjAwNGh0dHA6Ly93d3cuc291bmRib3kuZGUAAAAAAAAAACU=");return t.play(),t}const ea=q("div",{class:"text-h6"},"Kehadiran",-1),ta=q("div",{class:"text-h6"},"Scanner Kehadiran",-1),aa=q("video",{id:"qr-video",width:"350",height:"300"},null,-1),na=ct(" Putar Kamera "),ia={layout:wt},Aa=Object.assign(ia,{props:["data"],setup(t){const e=O(!1),a=O(!1),n=O(!1),i=O(null),s=O(null),l=O([]),r=O(0),c=[{name:"user",field:"user",label:"NAMA ANGGOTA",align:"left",sortable:!0,format:u=>u.name},{name:"check_in",field:"check_in",label:"MASUK",align:"left",sortable:!0,format:u=>Gt(u,"DD/MM/YYYY HH:mm")},{name:"user",field:"user",label:"ORGANISASI",align:"left",sortable:!0,format:u=>{var g;return(g=u==null?void 0:u.organisasi)==null?void 0:g.nama_organisasi}},{name:"user",field:"user",label:"JABATAN",align:"left",sortable:!0,format:u=>{var g;return(g=u==null?void 0:u.jabatan)==null?void 0:g.nama_jabatan}},{name:"user",field:"user",label:"KECAMATAN",align:"left",sortable:!0,format:u=>{var g,p;return(p=(g=u==null?void 0:u.wilayah)==null?void 0:g.detail)==null?void 0:p.name}}],f=u=>{dt.Inertia.post("/peserta/hadir/scan",{user_id:u.data},{preserveScroll:!0,preserveState:!0,onFinish:()=>{Xt()}})},o=()=>{i.value.stop()},d=()=>{l.value.length>1&&(l.value[1].id===r.value.id?r.value=l.value[0]:r.value=l.value[1],i.value.setCamera(r.value.id))},m=()=>{e.value=!0,ut(()=>{s.value=document.getElementById("qr-video"),i.value=new h(s.value,f,{maxScansPerSecond:1,highlightScanRegion:!0,highlightCodeOutline:!0});const u=()=>{i.value.hasFlash().then(g=>{a.value=g})};i.value.start().then(()=>{u(),h.listCameras(!0).then(g=>{g.length>0&&(r.value=g[0]),l.value=g})}),h.hasCamera().then(g=>{n.value=g})})};return N(()=>{i.value&&i.value.stop()}),(u,g)=>(rt(),st(Dt,{padding:""},{default:w(()=>[y(ce,{class:"my-card"},{default:w(()=>[y(F,null,{default:w(()=>[ea]),_:1}),y(le,{align:"left"},{default:w(()=>[y(P,{label:"Camera",color:"primary",icon:"photo_camera",onClick:m})]),_:1}),y(W),y(ht,{flat:"",dense:"",rows:t.data,columns:c,"row-key":"id"},null,8,["rows"])]),_:1}),y(lt,{modelValue:e.value,"onUpdate:modelValue":g[0]||(g[0]=p=>e.value=p),persistent:"",onHide:o},{default:w(()=>[y(ce,{style:{width:"400px","max-width":"80vw"}},{default:w(()=>[y(F,{class:"row items-center q-py-sm"},{default:w(()=>[ta,y(mt),ot(y(P,{icon:"close",flat:"",round:"",dense:""},null,512),[[St]])]),_:1}),y(W),y(F,{class:"scroll text-center",style:{"max-height":"400px"}},{default:w(()=>[aa]),_:1}),y(W),y(le,{align:"right"},{default:w(()=>[y(P,{dense:"",flat:"",color:"primary",icon:"flip_camera_ios",onClick:d},{default:w(()=>[y(Jt,null,{default:w(()=>[na]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}))}});export{Aa as default};
